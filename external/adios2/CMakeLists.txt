set_directory_properties(PROPERTIES EP_BASE ${CMAKE_CURRENT_BINARY_DIR})
set(ADIOS2_ROOT ${CMAKE_CURRENT_BINARY_DIR}/install CACHE PATH "")
set(ADIOS2_INTERNAL TRUE CACHE INTERNAL "" FORCE)
ExternalProject_Add(adios2
  GIT_REPOSITORY https://github.com/ornladios/adios2.git
  GIT_TAG master
  GIT_SHALLOW ON
  PREFIX .
  DOWNLOAD_DIR download
  STAMP_DIR stamp
  SOURCE_DIR source
  BINARY_DIR build
  INSTALL_DIR install
  CMAKE_ARGS
    -DCMAKE_INSTALL_PREFIX=${ADIOS2_ROOT}
    -DADIOS2_BUILD_TESTING=OFF
    -DADIOS2_BUILD_EXAMPLES=OFF
)
